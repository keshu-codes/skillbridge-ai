<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Analysis Report - SkillBridge AI</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Georgia:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
    <style>
      /* Result Page Specific Styles */
      .report-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2.5rem;
        padding-bottom: 1.5rem;
        border-bottom: 2px solid rgba(212, 175, 55, 0.3);
      }

      .report-meta {
        display: flex;
        gap: 2rem;
        flex-wrap: wrap;
      }

      .meta-item {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        color: var(--secondary);
        font-size: 0.9rem;
        font-weight: 500;
      }

      .meta-item i {
        color: var(--primary);
      }

      .section {
        margin: 3rem 0;
      }

      .section-title {
        font-size: 1.6rem;
        font-weight: 700;
        color: var(--primary-dark);
        margin-bottom: 1.5rem;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        font-family: "Georgia", serif;
      }

      .industry-badge {
        display: inline-block;
        padding: 0.5rem 1.25rem;
        background: linear-gradient(
          135deg,
          var(--primary),
          var(--primary-dark)
        );
        color: white;
        border-radius: var(--radius-full);
        font-size: 0.85rem;
        font-weight: 700;
        letter-spacing: 0.5px;
        margin-left: 1rem;
        border: 2px solid var(--accent);
        vertical-align: middle;
      }

      .skills-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
        margin-bottom: 2rem;
      }

      @media (max-width: 768px) {
        .skills-container {
          grid-template-columns: 1fr;
        }
      }

      .skill-box {
        background: white;
        border-radius: var(--radius-lg);
        padding: 2rem;
        border: 1px solid rgba(212, 175, 55, 0.3);
        box-shadow: var(--shadow);
      }

      .skill-box h3 {
        font-size: 1.2rem;
        font-weight: 700;
        margin-bottom: 1.25rem;
        color: var(--primary-dark);
        display: flex;
        align-items: center;
        gap: 0.75rem;
        font-family: "Georgia", serif;
      }

      .skill-list {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
      }

      /* Skill Tags */
      .skill-tag {
        padding: 0.5rem 1rem;
        border-radius: 50px;
        font-size: 0.9rem;
        font-weight: 600;
      }
      .skill-tag.present {
        background: rgba(34, 139, 34, 0.1);
        color: var(--success);
        border: 1px solid rgba(34, 139, 34, 0.2);
      }
      .skill-tag.missing {
        background: rgba(139, 0, 0, 0.1);
        color: var(--danger);
        border: 1px solid rgba(139, 0, 0, 0.2);
      }

      .resource-card {
        background: white;
        border-radius: var(--radius-lg);
        padding: 2rem;
        margin-bottom: 1.5rem;
        border: 1px solid rgba(212, 175, 55, 0.3);
        box-shadow: var(--shadow);
        border-left: 4px solid var(--primary);
      }

      .resource-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.25rem;
      }

      .resource-title {
        font-weight: 700;
        color: var(--primary-dark);
        font-size: 1.2rem;
        display: flex;
        align-items: center;
        gap: 0.75rem;
      }

      .resource-links {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
        margin-top: 1.25rem;
      }

      .resource-link {
        display: inline-flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.75rem 1.5rem;
        background: rgba(10, 92, 54, 0.1);
        border-radius: var(--radius);
        color: var(--primary-dark);
        text-decoration: none;
        font-size: 0.9rem;
        font-weight: 600;
        transition: var(--transition);
        border: 1px solid rgba(10, 92, 54, 0.2);
        cursor: pointer;
      }

      .resource-link:hover {
        background: var(--primary);
        color: white;
        transform: translateY(-2px);
        box-shadow: var(--shadow);
      }

      .question-item {
        background: white;
        border-radius: var(--radius-lg);
        padding: 1.5rem;
        margin-bottom: 1rem;
        border: 1px solid rgba(212, 175, 55, 0.3);
        box-shadow: var(--shadow);
        border-left: 4px solid var(--accent);
        display: flex;
        align-items: flex-start;
      }

      .question-number {
        display: inline-block;
        min-width: 30px;
        height: 30px;
        background: var(--accent);
        color: var(--primary-dark);
        border-radius: 50%;
        text-align: center;
        line-height: 30px;
        margin-right: 1.25rem;
        font-weight: 700;
        font-family: "Georgia", serif;
      }

      .improvement-card {
        background: white;
        border-radius: var(--radius-lg);
        padding: 2rem;
        margin-bottom: 1.5rem;
        border: 1px solid rgba(212, 175, 55, 0.3);
        box-shadow: var(--shadow);
        border-left: 4px solid var(--success);
      }

      .priority-badge {
        padding: 0.4rem 1rem;
        border-radius: var(--radius-full);
        font-size: 0.8rem;
        font-weight: 700;
        letter-spacing: 0.5px;
        display: inline-block;
      }

      .priority-high {
        background: rgba(139, 0, 0, 0.1);
        color: var(--danger);
        border: 1px solid rgba(139, 0, 0, 0.3);
      }

      .priority-medium {
        background: rgba(218, 165, 32, 0.1);
        color: var(--warning);
        border: 1px solid rgba(218, 165, 32, 0.3);
      }

      .priority-low {
        background: rgba(34, 139, 34, 0.1);
        color: var(--success);
        border: 1px solid rgba(34, 139, 34, 0.3);
      }

      .roadmap-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
        margin: 2rem 0;
      }

      .roadmap-step {
        background: white;
        border-radius: var(--radius-lg);
        padding: 2rem;
        text-align: center;
        border: 1px solid rgba(212, 175, 55, 0.3);
        box-shadow: var(--shadow);
      }

      .roadmap-step .step-number {
        width: 50px;
        height: 50px;
        background: linear-gradient(
          135deg,
          var(--primary),
          var(--primary-dark)
        );
        color: var(--accent);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1.25rem;
        font-weight: 700;
        font-size: 1.2rem;
        border: 2px solid var(--accent);
      }

      .verdict-card {
        background: linear-gradient(
          135deg,
          var(--primary),
          var(--primary-dark)
        );
        color: var(--accent);
        border-radius: var(--radius-xl);
        padding: 2.5rem;
        margin: 2.5rem 0;
        border: 3px solid var(--accent);
        box-shadow: var(--shadow-xl);
      }

      .verdict-card h3 {
        color: var(--accent);
        margin-bottom: 1.25rem;
        font-family: "Georgia", serif;
      }

      .action-buttons {
        display: flex;
        gap: 1.5rem;
        margin-top: 2.5rem;
      }

      @media (max-width: 768px) {
        .action-buttons {
          flex-direction: column;
        }

        .report-header {
          flex-direction: column;
          align-items: flex-start;
          gap: 1.5rem;
        }

        .report-meta {
          gap: 1rem;
        }
      }

      /* Animated Score Circle */
      .score-circle {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        background: conic-gradient(
          var(--primary) var(--score-percent, 0%),
          #e5e7eb 0%
        );
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
        position: relative;
        transition: background 1s ease-out;
      }
      .score-circle::before {
        content: "";
        position: absolute;
        width: 130px;
        height: 130px;
        background: white;
        border-radius: 50%;
      }
      .score-value {
        position: relative;
        font-size: 2.5rem;
        font-weight: 800;
        color: var(--primary);
        z-index: 2;
      }
    </style>
  </head>
  <body>
    <div class="background">
      <div class="pattern"></div>
      <div class="shape shape-1"></div>
      <div class="shape shape-2"></div>
    </div>

    {% if is_demo %}
    <div style="position: fixed; top: 20px; right: 20px; z-index: 100">
      <div
        style="
          background: linear-gradient(135deg, var(--accent), var(--secondary));
          color: var(--primary-dark);
          padding: 0.75rem 1.75rem;
          border-radius: var(--radius-full);
          font-weight: 700;
          box-shadow: var(--shadow);
          border: 2px solid var(--accent);
        "
      >
        <i class="fas fa-file-alt"></i> SAMPLE CAREER REPORT
      </div>
    </div>
    {% endif %}

    <div class="main-container">
      <header class="header">
        <a href="/" class="logo">
          <div class="logo-icon">ðŸŒ‰</div>
          <div class="logo-text">SkillBridge AI</div>
        </a>
        <a href="/" class="primary-button">
          <i class="fas fa-arrow-left"></i> New Analysis
        </a>
      </header>

      <div class="report-header animate-fade-down">
        <div>
          <h1
            style="
              font-size: 2.8rem;
              font-weight: 800;
              color: var(--primary-dark);
              margin-bottom: 0.75rem;
              font-family: 'Georgia', serif;
            "
          >
            <span class="highlight-text">{{ role }}</span> Analysis
            <span class="industry-badge">
              {% if analysis.industry_category %} {{ analysis.industry_category
              }} {% else %} {{ role_info.category }} {% endif %}
            </span>
          </h1>
          <p style="color: var(--charcoal); font-size: 1.1rem">
            {{ analysis.score_explanation }}
          </p>
        </div>

        <div class="report-meta">
          <div class="meta-item">
            <i class="fas fa-calendar"></i>
            <span>{{ analysis.analysis_date }}</span>
          </div>
          <div class="meta-item">
            <i class="fas fa-clock"></i>
            <span>
              {% if analysis.career_roadmap %} {{
              analysis.career_roadmap.short_term.split('(')[0] }} {% else %}
              Immediate {% endif %}
            </span>
          </div>
          <div class="meta-item">
            <i class="fas fa-coins"></i>
            <span
              >{{ analysis.salary_benchmark or role_info.salary_range }}</span
            >
          </div>
          <div class="meta-item">
            <i class="fas fa-chart-line"></i>
            <span>{{ analysis.compatibility_score }}% Match</span>
          </div>
        </div>
      </div>

      <div
        class="card"
        style="text-align: center"
        data-animation="animate-push-in"
      >
        <h2 class="section-title">
          <i class="fas fa-industry"></i> Career Compatibility Analysis
        </h2>

        <div
          class="score-circle"
          data-score="{{ analysis.compatibility_score }}"
        >
          <div class="score-value">0%</div>
        </div>

        <p
          style="
            color: var(--charcoal);
            font-size: 1.1rem;
            margin-bottom: 1.25rem;
          "
        >
          Your resume shows
          <strong style="color: var(--primary)">
            {{ analysis.compatibility_score }}%
          </strong>
          compatibility with {{ role }} requirements
        </p>

        {% if analysis.compatibility_score >= 80 %}
        <p style="color: var(--success); font-weight: 700; font-size: 1.1rem">
          <i class="fas fa-crown"></i> Excellent fit - Strong candidate for this
          career path
        </p>
        {% elif analysis.compatibility_score >= 60 %}
        <p style="color: var(--warning); font-weight: 700; font-size: 1.1rem">
          <i class="fas fa-star"></i> Good foundation - Targeted improvements
          needed
        </p>
        {% else %}
        <p style="color: var(--danger); font-weight: 700; font-size: 1.1rem">
          <i class="fas fa-lightbulb"></i> Development needed - Strategic career
          planning required
        </p>
        {% endif %}
      </div>

      <div class="section animate-fade-up delay-100">
        <h2 class="section-title">
          <i class="fas fa-brain"></i> Professional Skills Assessment
        </h2>

        <div class="skills-container">
          <div class="skill-box">
            <h3 style="color: var(--success)">
              <i class="fas fa-check-circle"></i> Your Strengths
            </h3>
            <div class="skill-list">
              {% for skill in analysis.skill_analysis.present %}
              <span class="skill-tag present">{{ skill }}</span>
              {% else %}
              <p style="color: var(--secondary); font-style: italic">
                No core skills detected in resume
              </p>
              {% endfor %}
            </div>
          </div>

          <div class="skill-box">
            <h3 style="color: var(--danger)">
              <i class="fas fa-exclamation-circle"></i> Development Areas
            </h3>
            <div class="skill-list">
              {% for skill in analysis.skill_analysis.missing %}
              <span class="skill-tag missing">{{ skill }}</span>
              {% else %}
              <p style="color: var(--success); font-weight: 600">
                <i class="fas fa-trophy"></i> All key industry skills present!
              </p>
              {% endfor %}
            </div>
          </div>
        </div>

        <p
          style="
            color: var(--secondary);
            text-align: center;
            font-weight: 600;
            margin-top: 1.5rem;
            padding: 1rem;
            background: rgba(212, 175, 55, 0.1);
            border-radius: var(--radius);
          "
        >
          Overall Skills Match:
          <strong style="color: var(--primary); font-size: 1.2rem">
            {{ analysis.skill_analysis.match_percentage }}%
          </strong>
        </p>
      </div>

      {% if analysis.critical_gaps %}
      <div class="section animate-fade-up delay-200">
        <h2 class="section-title">
          <i class="fas fa-exclamation-triangle"></i> Critical Career Gaps
        </h2>
        <p style="color: var(--charcoal); margin-bottom: 1.5rem">
          Address these gaps to advance your {{ analysis.industry_category }}
          career:
        </p>

        {% for gap_item in analysis.critical_gaps %}
        <div class="resource-card">
          <div class="resource-header">
            <div class="resource-title">
              <i class="fas fa-graduation-cap"></i>
              {{ gap_item.gap }}
            </div>
            <span class="priority-badge priority-{{ gap_item.priority|lower }}">
              {{ gap_item.priority }} Priority
            </span>
          </div>

          <p style="color: var(--charcoal); margin-bottom: 1rem">
            <strong>Impact:</strong> {{ gap_item.impact }}
          </p>

          <div class="resource-links">
            <a
              href="https://www.youtube.com/results?search_query=Learn+{{ gap_item.gap }}"
              target="_blank"
              class="resource-link"
            >
              <i class="fas fa-search"></i> Learn on YouTube
            </a>
          </div>
        </div>
        {% endfor %}
      </div>
      {% endif %} {% if analysis.resume_improvements %}
      <div class="section animate-fade-up delay-300">
        <h2 class="section-title">
          <i class="fas fa-magic"></i> AI Resume Improvements
        </h2>
        <p style="color: var(--charcoal); margin-bottom: 1.5rem">
          Transform your resume bullets from weak to winning:
        </p>

        {% for imp in analysis.resume_improvements %}
        <div class="improvement-card">
          <div style="margin-bottom: 1rem">
            <p style="color: var(--danger); font-weight: 600">
              <i class="fas fa-times-circle"></i> Current:
            </p>
            <p style="color: var(--charcoal); font-style: italic">
              "{{ imp.current }}"
            </p>
          </div>
          <div style="margin-bottom: 1rem">
            <p style="color: var(--success); font-weight: 600">
              <i class="fas fa-check-circle"></i> Improved:
            </p>
            <p style="color: var(--charcoal); font-weight: 500">
              "{{ imp.improved }}"
            </p>
          </div>
          <div
            style="
              background: rgba(212, 175, 55, 0.1);
              padding: 0.75rem;
              border-radius: var(--radius);
              font-size: 0.9rem;
            "
          >
            <strong>Why this works:</strong> {{ imp.reason }}
          </div>
        </div>
        {% endfor %}
      </div>
      {% endif %} {% if analysis.professional_development %}
      <div class="section animate-fade-up delay-400">
        <h2 class="section-title">
          <i class="fas fa-graduation-cap"></i> Professional Development Plan
        </h2>

        {% for dev in analysis.professional_development %}
        <div class="resource-card">
          <div class="resource-header">
            <div class="resource-title">
              <i class="fas fa-book"></i>
              {{ dev.title }}
            </div>
            <span
              class="priority-badge"
              style="background: var(--primary); color: white"
            >
              {{ dev.type|title }}
            </span>
          </div>

          <div
            style="
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
              gap: 1rem;
              margin-top: 1rem;
            "
          >
            <div>
              <strong style="color: var(--primary-dark)">Provider:</strong>
              <p style="color: var(--charcoal)">{{ dev.provider }}</p>
            </div>
            <div>
              <strong style="color: var(--primary-dark)">Duration:</strong>
              <p style="color: var(--charcoal)">{{ dev.duration }}</p>
            </div>
          </div>

          <div class="resource-links">
            <a
              href="{{ dev.link }}"
              target="_blank"
              class="resource-link"
              style="background: var(--primary); color: white"
            >
              <i class="fas fa-external-link-alt"></i> Start Learning
            </a>
          </div>
        </div>
        {% endfor %}
      </div>
      {% endif %} {% if analysis.youtube_recommendations %}
      <div class="section animate-fade-up delay-400">
        <h2 class="section-title">
          <i class="fab fa-youtube" style="color: #ff0000"></i> YouTube Study
          Plan
        </h2>
        <div
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
          "
        >
          {% for video in analysis.youtube_recommendations %}
          <div class="resource-card" style="border-left: 4px solid #ff0000">
            <div class="resource-header">
              <div class="resource-title" style="font-size: 1.1rem">
                <i class="fab fa-youtube" style="color: #ff0000"></i>
                {{ video.title }}
              </div>
            </div>
            <div class="resource-links">
              <a href="{{ video.link }}" target="_blank" class="resource-link">
                <i class="fas fa-play"></i> Watch Now
              </a>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
      {% endif %} {% if analysis.career_roadmap %}
      <div class="section animate-fade-up delay-500">
        <h2 class="section-title">
          <i class="fas fa-road"></i> Career Roadmap
        </h2>

        <div class="roadmap-container">
          <div class="roadmap-step">
            <div class="step-number">1</div>
            <h3 style="color: var(--primary-dark); margin-bottom: 0.75rem">
              Short-term
            </h3>
            <p style="color: var(--charcoal)">
              {{ analysis.career_roadmap.short_term }}
            </p>
          </div>

          <div class="roadmap-step">
            <div class="step-number">2</div>
            <h3 style="color: var(--primary-dark); margin-bottom: 0.75rem">
              Medium-term
            </h3>
            <p style="color: var(--charcoal)">
              {{ analysis.career_roadmap.medium_term }}
            </p>
          </div>

          <div class="roadmap-step">
            <div class="step-number">3</div>
            <h3 style="color: var(--primary-dark); margin-bottom: 0.75rem">
              Long-term
            </h3>
            <p style="color: var(--charcoal)">
              {{ analysis.career_roadmap.long_term }}
            </p>
          </div>
        </div>
      </div>
      {% endif %} {% if analysis.interview_questions %}
      <div class="section animate-fade-up delay-600">
        <h2 class="section-title">
          <i class="fas fa-comments"></i> Interview Preparation
        </h2>
        <p style="color: var(--charcoal); margin-bottom: 1.5rem">
          Prepare for these industry-specific questions:
        </p>

        {% for question in analysis.interview_questions %}
        <div class="question-item">
          <span class="question-number">{{ loop.index }}</span>
          <div>
            <span style="color: var(--primary-dark); font-weight: 600">
              {{ question }}
            </span>
          </div>
        </div>
        {% endfor %}
      </div>
      {% endif %}

      <div class="verdict-card animate-fade-up delay-700">
        <h3
          style="
            color: var(--accent);
            font-size: 1.8rem;
            margin-bottom: 1.25rem;
          "
        >
          <i class="fas fa-clipboard-check"></i> Career Assessment Summary
        </h3>
        <p
          style="
            color: rgba(212, 175, 55, 0.9);
            line-height: 1.6;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
          "
        >
          {{ analysis.final_assessment }}
        </p>

        <div style="display: flex; flex-wrap: wrap; gap: 1.25rem">
          <div
            style="
              background: rgba(255, 255, 255, 0.15);
              padding: 1rem 1.5rem;
              border-radius: var(--radius);
              border: 1px solid rgba(212, 175, 55, 0.3);
            "
          >
            <div style="font-size: 0.85rem; color: rgba(212, 175, 55, 0.8)">
              Confidence Level
            </div>
            <div style="font-weight: 700; color: white; font-size: 1.1rem">
              {{ analysis.confidence_level|default('High') }}
            </div>
          </div>

          <div
            style="
              background: rgba(255, 255, 255, 0.15);
              padding: 1rem 1.5rem;
              border-radius: var(--radius);
              border: 1px solid rgba(212, 175, 55, 0.3);
            "
          >
            <div style="font-size: 0.85rem; color: rgba(212, 175, 55, 0.8)">
              Salary Benchmark
            </div>
            <div style="font-weight: 700; color: white; font-size: 1.1rem">
              {{ analysis.salary_benchmark or role_info.salary_range }}
            </div>
          </div>
        </div>
      </div>

      <div class="action-buttons animate-fade-up delay-800">
        <a href="/" class="btn btn-secondary btn-full">
          <i class="fas fa-redo"></i> New Career Analysis
        </a>

        <button
          onclick="downloadReport()"
          class="btn btn-primary btn-full"
          id="download-btn"
        >
          <i class="fas fa-download"></i> Download Career Report
        </button>
      </div>

      <footer class="footer" style="margin-top: 3rem">
        <p>
          Â© 2026 SkillBridge AI â€¢ Universal Career Analysis â€¢ Report Generated
          on {{ analysis.analysis_date }}
        </p>
      </footer>
    </div>

    <div class="developer-watermark">
      <i class="fas fa-code dev-icon"></i>
      <span>Developed by <span class="dev-name">Keshu</span></span>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script>
      function downloadReport() {
        const btn = document.getElementById("download-btn");
        const originalText = btn.innerHTML;
        const role = "{{ role }}";

        btn.disabled = true;
        btn.innerHTML =
          '<i class="fas fa-spinner fa-spin"></i> Generating Career Report...';

        fetch("/download-report")
          .then((response) => response.blob())
          .then((blob) => {
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = `SkillBridge_Career_Report_${role.replace(
              /[^a-z0-9]/gi,
              "_"
            )}_${new Date().toISOString().slice(0, 10)}.txt`;
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);
            document.body.removeChild(a);

            btn.innerHTML = '<i class="fas fa-check"></i> Report Downloaded';
            setTimeout(() => {
              btn.disabled = false;
              btn.innerHTML = originalText;
            }, 2000);
          })
          .catch((error) => {
            console.error("Download error:", error);
            btn.innerHTML = '<i class="fas fa-times"></i> Failed';
            setTimeout(() => {
              btn.disabled = false;
              btn.innerHTML = originalText;
            }, 2000);
          });
      }

      function searchResource(resource) {
        const query = encodeURIComponent(resource + " " + "{{ role }}");
        window.open(`https://www.google.com/search?q=${query}`, "_blank");
      }

      // Animate score circle on page load
      document.addEventListener("DOMContentLoaded", function () {
        const scoreCircle = document.querySelector(".score-circle");
        if (scoreCircle) {
          setTimeout(() => {
            const score = parseInt(
              scoreCircle.getAttribute("data-score") || "0"
            );
            const valueElement = scoreCircle.querySelector(".score-value");

            let currentScore = 0;
            const increment = score / 50;

            const interval = setInterval(() => {
              currentScore += increment;
              if (currentScore >= score) {
                currentScore = score;
                clearInterval(interval);
              }

              if (valueElement) {
                valueElement.textContent = Math.round(currentScore) + "%";
              }

              // Update CSS variable for conic gradient
              scoreCircle.style.setProperty(
                "--score-percent",
                currentScore + "%"
              );
            }, 20);
          }, 500);
        }
      });
    </script>
  </body>
</html>
